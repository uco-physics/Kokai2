{"ast":null,"code":"/**\n * パスフレーズ設定コンポーネント\n */import{useState}from'react';import{validatePassphrase}from'../utils/errorHandler';/**\n * Step4コンポーネント\n * @param {Object} props - プロパティ\n * @param {string} props.outputFormat - 選択された出力形式\n * @param {function} props.onSelect - 選択時のコールバック\n * @param {string} props.passphrase - 現在のパスフレーズ\n * @param {function} props.onBack - 戻るボタンのコールバック\n * @param {function} props.onNext - 次へボタンのコールバック\n * @param {string} props.language - 表示言語\n */import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Step4(_ref){let{outputFormat,onSelect,passphrase,onBack,onNext,language}=_ref;const[showPassword,setShowPassword]=useState(false);const[confirmPassphrase,setConfirmPassphrase]=useState('');const[error,setError]=useState('');// 言語に応じたテキストを取得\nconst texts={ja:{title:'パスフレーズの設定',subtitle:'秘密鍵の保護に使用するパスフレーズを設定してください',passphraseLabel:'パスフレーズ',passphrasePlaceholder:'8文字以上のパスフレーズを入力',confirmLabel:'パスフレーズの確認',confirmPlaceholder:'パスフレーズを再入力',showPassword:'表示',hidePassword:'非表示',optional:'（オプション）',back:'戻る',next:'次へ',errorMatch:'パスフレーズが一致しません',errorLength:'パスフレーズは8文字以上必要です',info:{title:'パスフレーズについて',description:\"\\n                    \\u30D1\\u30B9\\u30D5\\u30EC\\u30FC\\u30BA\\u306F\\u79D8\\u5BC6\\u9375\\u3092\\u6697\\u53F7\\u5316\\u3057\\u3066\\u4FDD\\u8B77\\u3057\\u307E\\u3059\\u3002\\n                    \\u5F37\\u529B\\u306A\\u30D1\\u30B9\\u30D5\\u30EC\\u30FC\\u30BA\\u3092\\u4F7F\\u7528\\u3059\\u308B\\u3053\\u3068\\u3067\\u3001\\n                    \\u79D8\\u5BC6\\u9375\\u304C\\u6F0F\\u6D29\\u3057\\u305F\\u5834\\u5408\\u3067\\u3082\\u5B89\\u5168\\u3092\\u78BA\\u4FDD\\u3067\\u304D\\u307E\\u3059\\u3002\\n                \",recommendations:['8文字以上の長さ','大文字と小文字を含める','数字を含める','記号を含める','推測しにくい文字列を使用']}},en:{title:'Set Passphrase',subtitle:'Set a passphrase to protect your private key',passphraseLabel:'Passphrase',passphrasePlaceholder:'Enter passphrase (8+ characters)',confirmLabel:'Confirm Passphrase',confirmPlaceholder:'Re-enter passphrase',showPassword:'Show',hidePassword:'Hide',optional:'(Optional)',back:'Back',next:'Next',errorMatch:'Passphrases do not match',errorLength:'Passphrase must be at least 8 characters',info:{title:'About Passphrase',description:\"\\n                    A passphrase encrypts and protects your private key.\\n                    Using a strong passphrase ensures security\\n                    even if your private key is compromised.\\n                \",recommendations:['At least 8 characters','Include uppercase and lowercase letters','Include numbers','Include symbols','Use unpredictable strings']}}}[language];// パスフレーズの検証\nconst validateInput=()=>{if(!passphrase){// パスフレーズが空の場合は次のステップへ\nonNext();return;}if(passphrase!==confirmPassphrase){setError(texts.errorMatch);return;}const validation=validatePassphrase({outputFormat,passphrase});if(!validation.isValid){setError(validation.message);return;}setError('');onNext();};return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold\",children:texts.title}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mt-2\",children:texts.subtitle})]}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"p-4 bg-red-50 text-red-700 rounded-lg\",children:error}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:[texts.passphraseLabel,\" \",texts.optional]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-1 relative\",children:[/*#__PURE__*/_jsx(\"input\",{type:showPassword?'text':'password',value:passphrase,onChange:e=>onSelect(e.target.value),className:\"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500\",placeholder:texts.passphrasePlaceholder}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>setShowPassword(!showPassword),className:\"absolute inset-y-0 right-0 px-3 flex items-center text-gray-500 hover:text-gray-700\",children:showPassword?texts.hidePassword:texts.showPassword})]})]}),passphrase&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:texts.confirmLabel}),/*#__PURE__*/_jsx(\"input\",{type:showPassword?'text':'password',value:confirmPassphrase,onChange:e=>setConfirmPassphrase(e.target.value),className:\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500\",placeholder:texts.confirmPlaceholder})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 p-4 rounded-lg\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-bold text-lg\",children:texts.info.title}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-2 text-gray-600\",children:texts.info.description}),/*#__PURE__*/_jsx(\"ul\",{className:\"mt-4 list-disc list-inside text-gray-600\",children:texts.info.recommendations.map((rec,index)=>/*#__PURE__*/_jsx(\"li\",{children:rec},index))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:onBack,className:\"px-4 py-2 text-blue-600 hover:text-blue-800\",children:texts.back}),/*#__PURE__*/_jsx(\"button\",{onClick:validateInput,className:\"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700\",children:texts.next})]})]});}","map":{"version":3,"names":["useState","validatePassphrase","jsx","_jsx","jsxs","_jsxs","Step4","_ref","outputFormat","onSelect","passphrase","onBack","onNext","language","showPassword","setShowPassword","confirmPassphrase","setConfirmPassphrase","error","setError","texts","ja","title","subtitle","passphraseLabel","passphrasePlaceholder","confirmLabel","confirmPlaceholder","hidePassword","optional","back","next","errorMatch","errorLength","info","description","recommendations","en","validateInput","validation","isValid","message","className","children","type","value","onChange","e","target","placeholder","onClick","map","rec","index"],"sources":["/home/uco/business/gh_pages/Kokai2/src/components/Step4.js"],"sourcesContent":["/**\n * パスフレーズ設定コンポーネント\n */\nimport { useState } from 'react';\nimport { validatePassphrase } from '../utils/errorHandler';\n\n/**\n * Step4コンポーネント\n * @param {Object} props - プロパティ\n * @param {string} props.outputFormat - 選択された出力形式\n * @param {function} props.onSelect - 選択時のコールバック\n * @param {string} props.passphrase - 現在のパスフレーズ\n * @param {function} props.onBack - 戻るボタンのコールバック\n * @param {function} props.onNext - 次へボタンのコールバック\n * @param {string} props.language - 表示言語\n */\nexport default function Step4({\n    outputFormat,\n    onSelect,\n    passphrase,\n    onBack,\n    onNext,\n    language\n}) {\n    const [showPassword, setShowPassword] = useState(false);\n    const [confirmPassphrase, setConfirmPassphrase] = useState('');\n    const [error, setError] = useState('');\n\n    // 言語に応じたテキストを取得\n    const texts = {\n        ja: {\n            title: 'パスフレーズの設定',\n            subtitle: '秘密鍵の保護に使用するパスフレーズを設定してください',\n            passphraseLabel: 'パスフレーズ',\n            passphrasePlaceholder: '8文字以上のパスフレーズを入力',\n            confirmLabel: 'パスフレーズの確認',\n            confirmPlaceholder: 'パスフレーズを再入力',\n            showPassword: '表示',\n            hidePassword: '非表示',\n            optional: '（オプション）',\n            back: '戻る',\n            next: '次へ',\n            errorMatch: 'パスフレーズが一致しません',\n            errorLength: 'パスフレーズは8文字以上必要です',\n            info: {\n                title: 'パスフレーズについて',\n                description: `\n                    パスフレーズは秘密鍵を暗号化して保護します。\n                    強力なパスフレーズを使用することで、\n                    秘密鍵が漏洩した場合でも安全を確保できます。\n                `,\n                recommendations: [\n                    '8文字以上の長さ',\n                    '大文字と小文字を含める',\n                    '数字を含める',\n                    '記号を含める',\n                    '推測しにくい文字列を使用'\n                ]\n            }\n        },\n        en: {\n            title: 'Set Passphrase',\n            subtitle: 'Set a passphrase to protect your private key',\n            passphraseLabel: 'Passphrase',\n            passphrasePlaceholder: 'Enter passphrase (8+ characters)',\n            confirmLabel: 'Confirm Passphrase',\n            confirmPlaceholder: 'Re-enter passphrase',\n            showPassword: 'Show',\n            hidePassword: 'Hide',\n            optional: '(Optional)',\n            back: 'Back',\n            next: 'Next',\n            errorMatch: 'Passphrases do not match',\n            errorLength: 'Passphrase must be at least 8 characters',\n            info: {\n                title: 'About Passphrase',\n                description: `\n                    A passphrase encrypts and protects your private key.\n                    Using a strong passphrase ensures security\n                    even if your private key is compromised.\n                `,\n                recommendations: [\n                    'At least 8 characters',\n                    'Include uppercase and lowercase letters',\n                    'Include numbers',\n                    'Include symbols',\n                    'Use unpredictable strings'\n                ]\n            }\n        }\n    }[language];\n\n    // パスフレーズの検証\n    const validateInput = () => {\n        if (!passphrase) {\n            // パスフレーズが空の場合は次のステップへ\n            onNext();\n            return;\n        }\n\n        if (passphrase !== confirmPassphrase) {\n            setError(texts.errorMatch);\n            return;\n        }\n\n        const validation = validatePassphrase({ outputFormat, passphrase });\n        if (!validation.isValid) {\n            setError(validation.message);\n            return;\n        }\n\n        setError('');\n        onNext();\n    };\n\n    return (\n        <div className=\"space-y-6\">\n            <div className=\"text-center\">\n                <h2 className=\"text-2xl font-bold\">{texts.title}</h2>\n                <p className=\"text-gray-600 mt-2\">{texts.subtitle}</p>\n            </div>\n\n            {error && (\n                <div className=\"p-4 bg-red-50 text-red-700 rounded-lg\">\n                    {error}\n                </div>\n            )}\n\n            <div className=\"space-y-4\">\n                <div>\n                    <label className=\"block text-sm font-medium text-gray-700\">\n                        {texts.passphraseLabel} {texts.optional}\n                    </label>\n                    <div className=\"mt-1 relative\">\n                        <input\n                            type={showPassword ? 'text' : 'password'}\n                            value={passphrase}\n                            onChange={(e) => onSelect(e.target.value)}\n                            className=\"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500\"\n                            placeholder={texts.passphrasePlaceholder}\n                        />\n                        <button\n                            type=\"button\"\n                            onClick={() => setShowPassword(!showPassword)}\n                            className=\"absolute inset-y-0 right-0 px-3 flex items-center text-gray-500 hover:text-gray-700\"\n                        >\n                            {showPassword ? texts.hidePassword : texts.showPassword}\n                        </button>\n                    </div>\n                </div>\n\n                {passphrase && (\n                    <div>\n                        <label className=\"block text-sm font-medium text-gray-700\">\n                            {texts.confirmLabel}\n                        </label>\n                        <input\n                            type={showPassword ? 'text' : 'password'}\n                            value={confirmPassphrase}\n                            onChange={(e) => setConfirmPassphrase(e.target.value)}\n                            className=\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500\"\n                            placeholder={texts.confirmPlaceholder}\n                        />\n                    </div>\n                )}\n            </div>\n\n            {/* パスフレーズの説明 */}\n            <div className=\"bg-gray-50 p-4 rounded-lg\">\n                <h3 className=\"font-bold text-lg\">{texts.info.title}</h3>\n                <p className=\"mt-2 text-gray-600\">\n                    {texts.info.description}\n                </p>\n                <ul className=\"mt-4 list-disc list-inside text-gray-600\">\n                    {texts.info.recommendations.map((rec, index) => (\n                        <li key={index}>{rec}</li>\n                    ))}\n                </ul>\n            </div>\n\n            <div className=\"flex justify-between\">\n                <button\n                    onClick={onBack}\n                    className=\"px-4 py-2 text-blue-600 hover:text-blue-800\"\n                >\n                    {texts.back}\n                </button>\n                <button\n                    onClick={validateInput}\n                    className=\"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700\"\n                >\n                    {texts.next}\n                </button>\n            </div>\n        </div>\n    );\n} "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}